<Window x:Class="NoteMaster.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:NoteMaster.ViewModels"
        Title="NoteMaster" Height="650" Width="400"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">
    
    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="60"/>
        </Grid.RowDefinitions>

        <!-- 顶部标题栏 -->
        <Grid Grid.Row="0" Background="White" Height="60">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="16,0,0,0">
                <Image Source="/Resources/note_icon.png" Width="32" Height="32" VerticalAlignment="Center"/>
                <StackPanel Margin="8,0,0,0" VerticalAlignment="Center">
                    <TextBlock Text="全部笔记" FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="* 篇笔记" FontSize="12" Foreground="#666666"/>
                </StackPanel>
            </StackPanel>

            <Button Grid.Column="2" Width="40" Height="40" Margin="5" Style="{StaticResource IconButtonStyle}"
                    Command="{Binding SearchCommand}">
                <Path Data="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" Fill="#333333"/>
            </Button>
            
            <Button Grid.Column="3" Width="40" Height="40" Margin="5" Style="{StaticResource IconButtonStyle}"
                    Command="{Binding CloseCommand}">
                <Path Data="M15.5,14L20.5,9L19,7.5L14,12.5L9,7.5L7.5,9L12.5,14L7.5,19L9,20.5L14,15.5L19,20.5L20.5,19L15.5,14Z" Fill="#333333"/>
            </Button>

            <Button Grid.Column="4" Width="40" Height="40" Margin="5" Style="{StaticResource IconButtonStyle}"
                    Command="{Binding CreateNoteCommand}">
                <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Fill="#333333"/>
            </Button>
        </Grid>

        <!-- 笔记列表 -->
        <ScrollViewer Grid.Row="1" Margin="0,1,0,0">
            <ItemsControl x:Name="NotesList">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="White" Margin="0,0,0,1" Padding="16,12">
                            <StackPanel>
                                <TextBlock Text="{Binding Title}" 
                                         FontSize="16" 
                                         TextTrimming="CharacterEllipsis"/>
                                <TextBlock Text="{Binding Description}" 
                                         FontSize="12" 
                                         Foreground="#666666"
                                         Margin="0,4,0,0"/>
                                <TextBlock Text="{Binding Date}" 
                                         FontSize="12" 
                                         Foreground="#999999"
                                         Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <!-- 底部导航栏 -->
        <Grid Grid.Row="2" Background="White">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <RadioButton Grid.Column="0" Style="{StaticResource NavButtonStyle}" IsChecked="True">
                <StackPanel>
                    <Path Data="M3,4H21V8H3V4M3,10H21V14H3V10M3,16H21V20H3V16Z" Fill="#FFD700"/>
                    <TextBlock Text="笔记" Foreground="#FFD700"/>
                </StackPanel>
            </RadioButton>

            <RadioButton Grid.Column="1" Style="{StaticResource NavButtonStyle}">
                <StackPanel>
                    <Path Data="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" Fill="#666666"/>
                    <TextBlock Text="待办" Foreground="#666666"/>
                </StackPanel>
            </RadioButton>

            <RadioButton Grid.Column="2" Style="{StaticResource NavButtonStyle}">
                <StackPanel>
                    <Path Data="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" Fill="#666666"/>
                    <TextBlock Text="文档" Foreground="#666666"/>
                </StackPanel>
            </RadioButton>


        </Grid>
    </Grid>
</Window>